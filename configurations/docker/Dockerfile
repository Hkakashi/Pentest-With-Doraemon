FROM kali:latest
# File Content

## if you have any trouble during building, try adding these lines to your Dockerfile. However, to set DEBIAN_FRONTEND to noninteractive should be discouraged and is also not approved by the developers of docker.

# RUN echo "deb http://http.kali.org/kali sana main contrib non-free" > /etc/apt/sources.list && echo "deb-src http://http.kali.org/kali sana main contrib non-free" >> /etc/apt/sources.list && echo "deb http://security.kali.org/kali-security sana/updates main contrib non-free" >> /etc/apt/sources.list && echo "deb-src http://security.kali.org/kali-security sana/updates main contrib non-free" >> /etc/apt/sources.list

ENV DEBIAN_FRONTEND noninteractive

## install the whole kali software with kali-linux-all. This will end up with a very large docker image, so if you only need some of the tools from kali, try something like kali-linux-web or kali-linux-top10.
RUN cp /etc/apt/sources.list /etc/apt/sources.list.backup && echo "deb http://http.kali.org/kali kali-rolling main non-free contrib" > /etc/apt/sources.list
RUN apt-get -y update && apt-get -y install kali-tools-top10 kali-tools-web kali-linux-nethunter kali-tools-windows-resources exploitdb rlwrap && apt-get clean
RUN apt install -y build-essential curl file netcat git openvpn bridge-utils iputils-ping wordlists exiftool gobuster vim net-tools seclists zsh tmux sudo smbmap smbclient steghide telnet ftp hash-identifier hashcat fcrackzip
RUN gzip -d /usr/share/wordlists/rockyou.txt.gz
## add another line to open a shell when you load the container

CMD ["/bin/bash"]
EXPOSE 443:443
